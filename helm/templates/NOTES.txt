COMPONENTS:
1. Database
2. API
3. UI
4. Utils


export DATABASE_IP=$(kubectl get svc {{ .Values.database.mariadb.name }}-service |  awk '{ print $3  }' | sed -n '2 p')
export DATABASE_PORT={{ .Values.database.mariadb.clusterPort }}
mysql -u root -p{{ .Values.database.mariadb.rootPassword }} -h $DATABASE_IP -P $DATABASE_PORT {{ .Values.database.mariadb.databaseName }} 

Test network policy correct
  kubectl run --rm -i -t --image=mysql --image-pull-policy=IfNotPresent --labels="app=api" test -- sh
Test network policy incorrect
  kubectl run --rm -i -t --image=mysql --image-pull-policy=IfNotPresent test -- sh

mkdir -p {{ .Values.database.mariadb.filepath }}


export API_IP=$(kubectl get svc {{ .Values.restapi.nodejs.name }}-service |  awk '{ print $3  }' | sed -n '2 p')
export API_PORT={{ .Values.restapi.nodejs.clusterPort }}


kubectl auth can-i list secret --namespace default --as notexisting
kubectl auth can-i list secret --namespace default --as  mr-secret-reader